@model MovieRank.Models.Movie

@{
    ViewData["Title"] = "Create";
}

<!DOCTYPE html>
<html lang="es">
<head>
<<<<<<< Updated upstream
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
=======
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
>>>>>>> Stashed changes
    <title>@ViewData["Title"] - MovieCreate</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/MovieRank.styles.css" asp-append-version="true" />
    <style>
        /* Estilos CSS para el contenedor principal */
        .container {
            display: flex;
            flex-direction: column;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
        }

        /* Estilos CSS para el contenedor de imagen */
        .image-container {
            width: 400px;
            height: 400px;
            border: 2px solid #000;
            position: relative;
            overflow: hidden;
            margin: 0 auto;
        }

        .image-preview {
            max-width: 100%;
            max-height: 100%;
            display: block;
        }

        /* Estilos para el div al lado del container de imagen */
        .text-div {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-top: 20px;
        }

        /* Estilos específicos para los campos "Título" y "Sinopsis" */
        #Title,
        #Synopsis,
        #Year,
        #Duration,
        #Rate,
        #Poster,
        #Genres {
            width: 100%;
            font-size: 14px;
            margin-top: 10px;
        }

        /* Estilos para centrar los botones */
        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <div class="title-container">
            <h1>Create</h1>
        </div>
        <div class="form-container">
<<<<<<< Updated upstream
            <form asp-action="Create">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group">
                    <label asp-for="Title" class="control-label">Title</label>
                    <input asp-for="Title" class="form-control" />
                    <span asp-validation-for="Title" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Synopsis" class="control-label">Synopsis</label>
                    <input asp-for="Synopsis" class="form-control" />
                    <span asp-validation-for="Synopsis" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Year" class="control-label">Year</label>
                    <input asp-for="Year" class="form-control" />
                    <span asp-validation-for="Year" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Duration" class="control-label">Duration</label>
                    <input asp-for="Duration" class="form-control" />
                    <span asp-validation-for="Duration" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Rate" class="control-label">Rate</label>
                    <input asp-for="Rate" class="form-control" />
                    <span asp-validation-for="Rate" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Poster" class="control-label">Poster</label>
                    <input asp-for="Poster" class="form-control" />
                    <span asp-validation-for="Poster" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="Genres" class="control-label">Genres</label>
                    <input asp-for="Genres" class="form-control" />
                    <span asp-validation-for="Genres" class="text-danger"></span>
                </div>
                <div class="form-group text-center button-container">
                    <input type="submit" value="Create" class="btn btn-primary" />
                    <a asp-action="Index" class="btn btn-secondary ml-2">Back to List</a>
=======
            <form method="POST" action="/add_movie" enctype="multipart/form-data">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group">
                    <label asp-for="Title" class="control-label">Título:</label>
                    <input asp-for="Title" id="Title" name="Title" class="form-control" required />
                </div>
                <div class="form-group">
                    <label asp-for="Synopsis" class="control-label">Sinopsis:</label>
                    <textarea asp-for="Synopsis" id="Synopsis" name="Synopsis" class="form-control" required></textarea>
                </div>
                <div class="form-group">
                    <label asp-for="Year" class="control-label">Año:</label>
                    <input asp-for="Year" id="Year" name="Year" class="form-control" type="number" min="1990" max="2099" />
                </div>
                <div class="form-group">
                    <label asp-for="Duration" class="control-label">Duración (hh:mm):</label>
                    <input asp-for="Duration" id="Duration" name="Duration" class="form-control" placeholder="hh:mm" />
                </div>
                <div class="form-group">
                    <label asp-for="Rate" class="control-label">Calificación (1-10):</label>
                    <input asp-for="Rate" id="Rate" name="Rate" class="form-control" type="range" min="1" max="10" step="0.1" />
                </div>
                <div class="form-group">
                    <label asp-for="Poster" class="control-label">Imagen del Póster:</label>
                    <div class="image-container">
                        <img id="image-preview" src="#" alt="Vista previa de la imagen" style="display: none;">
                    </div>
                    <input asp-for="Poster" id="Poster" name="Poster" class="form-control" accept="image/*" type="file" required />
                </div>
                <div class="form-group">
                    <label asp-for="Genres" class="control-label">Géneros:</label>
                    <div class="genre-container">
                        <input asp-for="Genres" id="Genres" name="Genres" class="form-control genre" required />
                        <div class="genre-buttons">
                            <button type="button" id="addGenre">+</button>
                            <button type="button" id="removeGenre">-</button>
                        </div>
                    </div>
                </div>
                <div class="form-group text-center button-container">
                    <input type="submit" name="action" value="Aceptar" class="btn btn-primary" />
                    <button type="button" name="action" value="Cancelar" onclick="window.history.back();" class="btn btn-secondary ml-2">Cancelar</button>
>>>>>>> Stashed changes
                </div>
            </form>
        </div>
    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<<<<<<< Updated upstream
    <script src="~/js/site.js" asp-append-version="true"></script>
=======
    <script src="~/js/site.js"></script>
    <script>
        const posterInput = document.getElementById('Poster');
        const imagePreview = document.getElementById('image-preview');
        const imageContainer = document.querySelector('.image-container');

        posterInput.addEventListener('change', function () {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    imagePreview.src = e.target.result;
                    imagePreview.style.display = 'block';
                    imagePreview.style.width = '100%';
                    imagePreview.style.height = '100%';
                };
                reader.readAsDataURL(file);
            } else {
                imagePreview.style.display = 'none';
            }
        });

        const addGenreButton = document.getElementById('addGenre');
        const removeGenreButton = document.getElementById('removeGenre');
        const genresContainer = document.querySelector('.genre-container');

        addGenreButton.addEventListener('click', function () {
            const genreInput = document.createElement('input');
            genreInput.type = 'text';
            genreInput.className = 'form-control genre';
            genreInput.name = 'Genres';
            genresContainer.appendChild(genreInput);
        });

        removeGenreButton.addEventListener('click', function () {
            const genreInputs = genresContainer.querySelectorAll('.genre');
            if (genreInputs.length > 1) {
                genresContainer.removeChild(genreInputs[genreInputs.length - 1]);
            }
        });
    </script>
>>>>>>> Stashed changes
</body>
</html>
